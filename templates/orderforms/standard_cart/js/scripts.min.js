function hasDomainLookupEnded(){domainLookupCallCount++,3==domainLookupCallCount&&jQuery("#btnCheckAvailability").removeAttr("disabled").removeClass("disabled")}function hasProductDomainLookupEnded(e,n){domainLookupCallCount++,domainLookupCallCount==e&&(n.removeAttr("disabled").removeClass("disabled"),jQuery('input[name="domainoption"]').iCheck("enable"))}function domainGotoNextStep(){jQuery("#domainLoadingSpinner").show(),jQuery("#frmProductDomainSelections").submit()}function removeItem(e,n){jQuery("#inputRemoveItemType").val(e),jQuery("#inputRemoveItemRef").val(n),jQuery("#modalRemoveItem").modal("show")}function updateConfigurableOptions(e,n){jQuery.post("cart.php","a=cyclechange&ajax=1&i="+e+"&billingcycle="+n,function(e){jQuery("#productConfigurableOptions").html(jQuery(e).find("#productConfigurableOptions").html()),jQuery("input").iCheck({inheritID:!0,checkboxClass:"icheckbox_square-blue",radioClass:"iradio_square-blue",increaseArea:"20%"})}),recalctotals()}function recalctotals(){jQuery("#orderSummaryLoader").is(":visible")||jQuery("#orderSummaryLoader").fadeIn("fast"),thisRequestId=Math.floor(1e6*Math.random()+1),window.lastSliderUpdateRequestId=thisRequestId;var e=jQuery.post("cart.php","ajax=1&a=confproduct&calctotal=true&"+jQuery("#frmConfigureProduct").serialize());e.done(function(e){thisRequestId==window.lastSliderUpdateRequestId&&jQuery("#producttotal").html(e)}),e.always(function(){jQuery("#orderSummaryLoader").delay(500).fadeOut("slow")})}function selectDomainPricing(e,n,t,i,a){jQuery("#domainSuggestion"+a).iCheck("check"),jQuery("[name='domainsregperiod["+e+"]']").val(t),jQuery("[name='"+e+"-selected-price']").html('<b class="glyphicon glyphicon-shopping-cart"></b> '+t+" "+i+" @ "+n)}function selectDomainPeriodInCart(e,n,t,i){var a=jQuery("#orderSummaryLoader");a.hasClass("hidden")&&a.hide().removeClass("hidden").fadeIn("fast"),jQuery("[name='"+e+"Pricing']").html(t+" "+i+' <span class="caret"></span>'),jQuery("[name='"+e+"Price']").html(n);var o=jQuery.post(window.location.pathname,{domain:e,period:t,a:"updateDomainPeriod",token:csrfToken});o.done(function(e){e.domains.forEach(function(e){jQuery("[name='"+e.domain+"Price']").parent("div").find(".renewal-price").html(e.renewprice+e.shortYearsLanguage).end()}),jQuery("#subtotal").html(e.subtotal),e.promotype&&jQuery("#discount").html(e.discount),e.taxrate&&jQuery("#taxTotal1").html(e.taxtotal),e.taxrate2&&jQuery("#taxTotal2").html(e.taxtotal2);var n=jQuery("#recurring");n.find("span:visible").not("span.cost").fadeOut("fast").end(),e.totalrecurringannually&&jQuery("#recurringAnnually").fadeIn("fast").find(".cost").html(e.totalrecurringannually),e.totalrecurringbiennially&&jQuery("#recurringBiennially").fadeIn("fast").find(".cost").html(e.totalrecurringbiennially),e.totalrecurringmonthly&&jQuery("#recurringMonthly").fadeIn("fast").find(".cost").html(e.totalrecurringmonthly),e.totalrecurringquarterly&&jQuery("#recurringQuarterly").fadeIn("fast").find(".cost").html(e.totalrecurringquarterly),e.totalrecurringsemiannually&&jQuery("#recurringSemiAnnually").fadeIn("fast").find(".cost").html(e.totalrecurringsemiannually),e.totalrecurringtriennially&&jQuery("#recurringTriennially").fadeIn("fast").find(".cost").html(e.totalrecurringtriennially),jQuery("#totalDueToday").html(e.total)}),o.always(function(){a.delay(500).fadeOut("slow").addClass("hidden").show()})}function loadMoreSuggestions(){var e,n=jQuery("#domainSuggestions");for(e=1;e<=10;e++){if(!(furtherSuggestions>0))return void jQuery("div.more-suggestions").find("a").addClass("hidden").end().find("span.no-more").removeClass("hidden");n.find("li.domain-suggestion.hidden.clone:first").not().hide().removeClass("hidden").slideDown(),furtherSuggestions=n.find("li.domain-suggestion.clone.hidden").length}}function validate_captcha(e){var n=jQuery("#g-recaptcha-response"),t=jQuery("#google-recaptcha"),i=jQuery("#inputCaptcha");if(n.length&&!n.val())return t.tooltip("show"),!1;if(i.length&&!i.val())return i.tooltip("show"),!1;var a=jQuery.post(e.attr("action"),e.serialize()+"&a=validateCaptcha","json");a.done(function(n){n.error?(jQuery("#inputCaptcha").attr("data-original-title",n.error).tooltip("show"),i.length&&jQuery("#inputCaptchaImage").replaceWith('<img id="inputCaptchaImage" src="includes/verifyimage.php" align="middle" />')):(jQuery("#captchaContainer").remove(),e.trigger("submit"))})}!function(e){function n(e,n,a){var o=e[0],r=/er/.test(a)?_indeterminate:/bl/.test(a)?m:p,d=a==_update?{checked:o[p],disabled:o[m],indeterminate:"true"==e.attr(_indeterminate)||"false"==e.attr(_determinate)}:o[r];if(/^(ch|di|in)/.test(a)&&!d)t(e,r);else if(/^(un|en|de)/.test(a)&&d)i(e,r);else if(a==_update)for(var s in d)d[s]?t(e,s,!0):i(e,s,!0);else n&&"toggle"!=a||(n||e[_callback]("ifClicked"),d?o[_type]!==c&&i(e,r):t(e,r))}function t(n,t,a){var u=n[0],f=n.parent(),y=t==p,g=t==_indeterminate,j=t==m,v=g?_determinate:y?h:"enabled",Q=o(n,v+r(u[_type])),b=o(n,t+r(u[_type]));if(u[t]!==!0){if(!a&&t==p&&u[_type]==c&&u.name){var C=n.closest("form"),w='input[name="'+u.name+'"]';w=C.length?C.find(w):e(w),w.each(function(){this!==u&&e(this).data(s)&&i(e(this),t)})}g?(u[t]=!0,u[p]&&i(n,p,"force")):(a||(u[t]=!0),y&&u[_indeterminate]&&i(n,_indeterminate,!1)),d(n,y,t,a)}u[m]&&o(n,_cursor,!0)&&f.find("."+l).css(_cursor,"default"),f[_add](b||o(n,t)||""),f.attr("role")&&!g&&f.attr("aria-"+(j?m:p),"true"),f[_remove](Q||o(n,v)||"")}function i(e,n,t){var i=e[0],a=e.parent(),s=n==p,u=n==_indeterminate,c=n==m,f=u?_determinate:s?h:"enabled",y=o(e,f+r(i[_type])),g=o(e,n+r(i[_type]));i[n]!==!1&&(!u&&t&&"force"!=t||(i[n]=!1),d(e,s,f,t)),!i[m]&&o(e,_cursor,!0)&&a.find("."+l).css(_cursor,"pointer"),a[_remove](g||o(e,n)||""),a.attr("role")&&!u&&a.attr("aria-"+(c?m:p),"false"),a[_add](y||o(e,f)||"")}function a(n,t){n.data(s)&&(n.parent().html(n.attr("style",n.data(s).s||"")),t&&n[_callback](t),n.off(".i").unwrap(),e(_label+'[for="'+n[0].id+'"]').add(n.closest(_label)).off(".i"))}function o(e,n,t){if(e.data(s))return e.data(s).o[n+(t?"":"Class")]}function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}function d(e,n,t,i){i||(n&&e[_callback]("ifToggled"),e[_callback]("ifChanged")[_callback]("if"+r(t)))}var s="iCheck",l=s+"-helper",u="checkbox",c="radio",p="checked",h="un"+p,m="disabled";_determinate="determinate",_indeterminate="in"+_determinate,_update="update",_type="type",_click="click",_touch="touchbegin.i touchend.i",_add="addClass",_remove="removeClass",_callback="trigger",_label="label",_cursor="cursor",_mobile=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent),e.fn[s]=function(o,r){var d='input[type="'+u+'"], input[type="'+c+'"]',h=e(),f=function(n){n.each(function(){var n=e(this);h=n.is(d)?h.add(n):h.add(n.find(d))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(o))return o=o.toLowerCase(),f(this),h.each(function(){var t=e(this);"destroy"==o?a(t,"ifDestroyed"):n(t,!0,o),e.isFunction(r)&&r()});if("object"!=typeof o&&o)return this;var y=e.extend({checkedClass:p,disabledClass:m,indeterminateClass:_indeterminate,labelHover:!0},o),g=y.handle,j=y.hoverClass||"hover",v=y.focusClass||"focus",Q=y.activeClass||"active",b=!!y.labelHover,C=y.labelHoverClass||"hover",w=0|(""+y.increaseArea).replace("%","");return g!=u&&g!=c||(d='input[type="'+g+'"]'),w<-50&&(w=-50),f(this),h.each(function(){var o=e(this);a(o);var r,d=this,h=d.id,f=-w+"%",g=100+2*w+"%",k={position:"absolute",top:f,left:f,display:"block",width:g,height:g,margin:0,padding:0,background:"#fff",border:0,opacity:0},_=_mobile?{position:"absolute",visibility:"hidden"}:w?k:{position:"absolute",opacity:0},D=d[_type]==u?y.checkboxClass||"i"+u:y.radioClass||"i"+c,S=e(_label+'[for="'+h+'"]').add(o.closest(_label)),T=!!y.aria,L=s+"-"+Math.random().toString(36).substr(2,6),x='<div class="'+D+'" '+(T?'role="'+d[_type]+'" ':"");T&&S.each(function(){x+='aria-labelledby="',this.id?x+=this.id:(this.id=L,x+=L),x+='"'}),x=o.wrap(x+"/>")[_callback]("ifCreated").parent().append(y.insert),r=e('<ins class="'+l+'"/>').css(k).appendTo(x),o.data(s,{o:y,s:o.attr("style")}).css(_),!!y.inheritClass&&x[_add](d.className||""),!!y.inheritID&&h&&x.attr("id",s+"-"+h),"static"==x.css("position")&&x.css("position","relative"),n(o,!0,_update),S.length&&S.on(_click+".i mouseover.i mouseout.i "+_touch,function(t){var i=t[_type],a=e(this);if(!d[m]){if(i==_click){if(e(t.target).is("a"))return;n(o,!1,!0)}else b&&(/ut|nd/.test(i)?(x[_remove](j),a[_remove](C)):(x[_add](j),a[_add](C)));if(!_mobile)return!1;t.stopPropagation()}}),o.on(_click+".i focus.i blur.i keyup.i keydown.i keypress.i",function(e){var n=e[_type],a=e.keyCode;return n!=_click&&("keydown"==n&&32==a?(d[_type]==c&&d[p]||(d[p]?i(o,p):t(o,p)),!1):void("keyup"==n&&d[_type]==c?!d[p]&&t(o,p):/us|ur/.test(n)&&x["blur"==n?_remove:_add](v)))}),r.on(_click+" mousedown mouseup mouseover mouseout "+_touch,function(e){var t=e[_type],i=/wn|up/.test(t)?Q:j;if(!d[m]){if(t==_click?n(o,!1,!0):(/wn|er|in/.test(t)?x[_add](i):x[_remove](i+" "+Q),S.length&&b&&i==j&&S[/ut|nd/.test(t)?_remove:_add](C)),!_mobile)return!1;e.stopPropagation()}})})}}(window.jQuery||window.Zepto),"undefined"==typeof localTrans&&(localTrans=function(e,n){return"undefined"!=typeof _localLang&&"undefined"!=typeof _localLang[e]&&_localLang[e].length>0?_localLang[e]:n});var domainLookupCallCount,furtherSuggestions;jQuery(document).ready(function(){function e(){if("left"!=jQuery("#scrollingPanelContainer").css("float"))return n.stop().css("margin-top","0"),!1;var e=n.outerHeight(),o=jQuery(window).scrollTop()-t.top+a;o>i-e&&(o=i-e),jQuery(window).scrollTop()>t.top?n.stop().animate({marginTop:o}):n.stop().animate({marginTop:0})}jQuery("#order-standard_cart").find("input").iCheck({inheritID:!0,checkboxClass:"icheckbox_square-blue",radioClass:"iradio_square-blue",increaseArea:"20%"}),jQuery("#inputCardNumber").length&&(jQuery("#inputCardNumber").payment("formatCardNumber"),jQuery("#inputCardCVV").payment("formatCardCVC"),jQuery("#inputCardStart").payment("formatCardExpiry"),jQuery("#inputCardExpiry").payment("formatCardExpiry"));var n=jQuery("#orderSummary");if(n.length){var t=jQuery("#scrollingPanelContainer").parent(".row").offset(),i=jQuery("#scrollingPanelContainer").parent(".row").outerHeight()-35,a=15;jQuery(window).resize(function(){t=jQuery("#scrollingPanelContainer").parent(".row").offset(),i=jQuery("#scrollingPanelContainer").parent(".row").outerHeight()-35,e()}),jQuery(window).scroll(function(){e()}),e()}if(jQuery("#frmConfigureProduct").submit(function(e){e.preventDefault();var n=jQuery("#btnCompleteProductConfig"),t=jQuery(n).html();jQuery(n).find("i").removeClass("fa-arrow-circle-right").addClass("fa-spinner fa-spin"),jQuery.post("cart.php","ajax=1&a=confproduct&"+jQuery("#frmConfigureProduct").serialize(),function(e){e?(jQuery("#btnCompleteProductConfig").html(t),jQuery("#containerProductValidationErrorsList").html(e),jQuery("#containerProductValidationErrors").removeClass("hidden").show(),jQuery(window).scrollTop()>jQuery("#containerProductValidationErrors").offset().top&&jQuery("html, body").scrollTop(jQuery("#containerProductValidationErrors").offset().top-15)):window.location="cart.php?a=confdomains"})}),jQuery("#productConfigurableOptions").on("ifChecked","input",function(){recalctotals()}),jQuery("#productConfigurableOptions").on("ifUnchecked","input",function(){recalctotals()}),jQuery("#productConfigurableOptions").on("change","select",function(){recalctotals()}),jQuery(".addon-products").on("click",".panel-addon",function(e){e.preventDefault();var n=jQuery(this);n.hasClass("panel-addon-selected")?n.find('input[type="checkbox"]').iCheck("uncheck"):n.find('input[type="checkbox"]').iCheck("check")}),jQuery(".addon-products").on("ifChecked",".panel-addon input",function(e){var n=jQuery(this).parents(".panel-addon");n.addClass("panel-addon-selected"),n.find('input[type="checkbox"]').iCheck("check"),n.find(".panel-add").html('<i class="fa fa-shopping-cart"></i> '+localTrans("addedToCartRemove","Added to Cart (Remove)")),recalctotals()}),jQuery(".addon-products").on("ifUnchecked",".panel-addon input",function(e){var n=jQuery(this).parents(".panel-addon");n.removeClass("panel-addon-selected"),n.find('input[type="checkbox"]').iCheck("uncheck"),n.find(".panel-add").html('<i class="fa fa-plus"></i> '+localTrans("addToCart","Add to Cart")),recalctotals()}),jQuery("#frmConfigureProduct").on("ifChecked",".addon-selector",function(e){recalctotals()}),0==jQuery(".domain-selection-options input:checked").length){var o=jQuery(".domain-selection-options input:first");jQuery(o).iCheck("check"),jQuery(o).parents(".option").addClass("option-selected")}jQuery("#domain"+jQuery(".domain-selection-options input:checked").val()).show(),jQuery(".domain-selection-options input").on("ifChecked",function(e){jQuery(".domain-selection-options .option").removeClass("option-selected"),jQuery(this).parents(".option").addClass("option-selected"),jQuery(".domain-input-group").hide(),jQuery("#domain"+jQuery(this).val()).show()}),jQuery("#frmProductDomain").submit(function(e){e.preventDefault();var n=jQuery(this).find('button[type="submit"]'),t=jQuery("#DomainSearchResults"),i=jQuery("#spotlightTlds"),a=jQuery("#domainSuggestions"),o=jQuery("#btnDomainContinue"),r=jQuery(".domain-selection-options input:checked").val(),d=jQuery("#"+r+"sld"),s=d.val(),l="",u=jQuery("#frmProductDomainPid").val(),c="";if("incart"==r)d=jQuery("#"+r+"sld option:selected"),s=d.text();else if("subdomain"==r)c=jQuery("#"+r+"tld option:selected"),l=c.text();else{if(c=jQuery("#"+r+"tld"),l=c.val(),s&&!l)return c.tooltip("show"),c.focus(),!1;"."!=l.substr(0,1)&&(l="."+l)}if(!s)return d.tooltip("show"),d.focus(),!1;if(d.tooltip("hide"),c.length&&c.tooltip("hide"),jQuery('input[name="domainoption"]').iCheck("disable"),domainLookupCallCount=0,n.attr("disabled","disabled").addClass("disabled"),jQuery(".domain-lookup-result").addClass("hidden"),jQuery("#primaryLookupResult div").hide(),jQuery("#primaryLookupResult").find(".register-price-label").show().end().find(".transfer-price-label").addClass("hidden"),jQuery(".domain-lookup-register-loader").hide(),jQuery(".domain-lookup-transfer-loader").hide(),jQuery(".domain-lookup-other-loader").hide(),"register"==r?jQuery(".domain-lookup-register-loader").show():"transfer"==r?jQuery(".domain-lookup-transfer-loader").show():jQuery(".domain-lookup-other-loader").show(),jQuery(".domain-lookup-loader").show(),a.find("li").addClass("hidden").end().find(".clone").remove().end(),jQuery("div.panel-footer.more-suggestions").addClass("hidden").find("a").removeClass("hidden").end().find("span.no-more").addClass("hidden"),jQuery(".btn-add-to-cart").removeAttr("disabled").find("span").hide().end().find("span.to-add").show(),o.addClass("hidden").attr("disabled","disabled"),"register"!=r&&(i.hide(),jQuery(".suggested-domains").hide()),t.is(":visible")||t.hide().removeClass("hidden").fadeIn(),"register"==r){jQuery(".suggested-domains").hide().removeClass("hidden").fadeIn("fast"),i.hide().removeClass("hidden").fadeIn("fast"),jQuery("#resultDomainOption").val(r);var p=jQuery.post("cart.php",{token:csrfToken,a:"checkDomain",type:"domain",domain:s+l},"json"),h=jQuery.post("cart.php",{token:csrfToken,a:"checkDomain",type:"spotlight",domain:s+l},"json"),m=jQuery.post("cart.php",{token:csrfToken,a:"checkDomain",type:"suggestions",domain:s+l},"json");p.done(function(e){jQuery.each(e.result,function(e,n){var t=n.pricing,i=jQuery("#primaryLookupResult"),a=i.find(".domain-available"),r=i.find(".domain-price"),d=i.find(".domain-unavailable"),s=i.find(".domain-invalid"),l=i.find(".domain-contact-support"),u=jQuery("#resultDomain"),c=jQuery("#resultDomainPricingTerm");if(i.removeClass("hidden").show(),jQuery(".domain-lookup-primary-loader").hide(),n.isValidDomain)n.isAvailable&&"string"!=typeof t?(n.preferredTLDNotAvailable&&d.show().find("strong").html(n.domainName),l.hide(),a.show().find("strong").html(n.domainName),r.show().find("span.price").html(t[Object.keys(t)[0]].register).end().find("button").attr("data-domain",n.idnDomainName),u.val(n.domainName),c.val(Object.keys(t)[0]).attr("name","domainsregperiod["+n.domainName+"]"),o.removeAttr("disabled")):(d.show().find("strong").html(n.domainName),l.hide(),"string"==typeof t&&"ContactUs"==t&&l.show());else{var p=s.find("span.domain-length-restrictions");p.hide(),n.minLength>0&&n.maxLength>0&&(p.find(".min-length").html(n.minLength).end().find(".max-length").html(n.maxLength).end(),p.show()),s.show()}})}).always(function(){hasProductDomainLookupEnded(3,n)}),h.done(function(e){return"object"!=typeof e||0==e.result.length||e.result.error?void jQuery(".domain-lookup-spotlight-loader").hide():void jQuery.each(e.result,function(e,n){var t=n.tldNoDots,i=n.pricing,a=jQuery("#spotlight"+t+" .domain-lookup-result");jQuery(".domain-lookup-spotlight-loader").hide(),a.find("button").addClass("hidden").end(),n.isValidDomain?n.isAvailable&&"string"!=typeof i?a.find("span.available").html(i[Object.keys(i)[0]].register).removeClass("hidden").end().find("button.btn-add-to-cart").attr("data-domain",n.idnDomainName).removeClass("hidden"):"string"==typeof i?(""==i?a.find("button.unavailable").removeClass("hidden").end():a.find("button.domain-contact-support").removeClass("hidden").end(),a.find("span.available").addClass("hidden").end()):(a.find("button.unavailable").removeClass("hidden").end(),a.find("span.available").addClass("hidden").end()):a.find("button.invalid.hidden").removeClass("hidden").end().find("span.available").addClass("hidden").end().find("button").not("button.invalid").addClass("hidden"),a.removeClass("hidden")})}).always(function(){hasProductDomainLookupEnded(3,n)}),m.done(function(e){if("object"!=typeof e||0==e.result.length||e.result.error)return void jQuery(".suggested-domains").fadeOut("fast",function(){jQuery(this).addClass("hidden")});jQuery(".suggested-domains").removeClass("hidden");var n=1;jQuery.each(e.result,function(e,t){var i=t.tld,o=t.pricing;a.find("li:first").clone(!0,!0).appendTo(a);var r=a.find("li.domain-suggestion").last();r.addClass("clone").find("span.domain").html(t.sld).end().find("span.extension").html("."+i).end(),"string"==typeof o?(r.find("button.btn-add-to-cart").remove(),""!=o?r.find("button.domain-contact-support").removeClass("hidden").end().find("span.price").hide():r.remove()):r.find("button.btn-add-to-cart").attr("data-domain",t.idnDomainName).end().find("span.price").html(o[Object.keys(o)[0]].register).end(),n<=10&&r.removeClass("hidden"),n++,t.group&&r.find("span.promo").addClass(t.group).html(t.group.toUpperCase()).removeClass("hidden").end(),furtherSuggestions=a.find("li.domain-suggestion.clone.hidden").length,furtherSuggestions>0&&jQuery("div.more-suggestions").removeClass("hidden")}),jQuery(".domain-lookup-suggestions-loader").hide(),jQuery("#domainSuggestions").removeClass("hidden")}).always(function(){hasProductDomainLookupEnded(3,n)})}else if("transfer"==r){jQuery("#resultDomainOption").val(r);var f=jQuery.post("cart.php",{token:csrfToken,a:"checkDomain",type:"transfer",domain:s+l},"json");f.done(function(e){return"object"!=typeof e||0==e.result.length?void jQuery(".domain-lookup-primary-loader").hide():void jQuery.each(e.result,function(e,n){var t=n.pricing,i=jQuery("#primaryLookupResult"),a=i.find(".transfer-eligible"),r=i.find(".domain-price"),d=i.find(".transfer-not-eligible"),s=jQuery("#resultDomain"),l=jQuery("#resultDomainPricingTerm");jQuery(".domain-lookup-primary-loader").hide(),i.removeClass("hidden").show(),n.isRegistered?(a.show(),r.show().find(".register-price-label").hide().end().find(".transfer-price-label").removeClass("hidden").show().end().find("span.price").html(t[Object.keys(t)[0]].transfer).end().find("button").attr("data-domain",n.idnDomainName),s.val(n.domainName),l.val(Object.keys(t)[0]).attr("name","domainsregperiod["+n.domainName+"]"),o.removeAttr("disabled")):d.show()})}).always(function(){hasProductDomainLookupEnded(1,n)})}else if("owndomain"==r||"subdomain"==r||"incart"==r){var y=jQuery.post("cart.php",{token:csrfToken,a:"checkDomain",type:r,pid:u,domain:s+l},"json");y.done(function(e){return"object"!=typeof e||0==e.result.length?void jQuery(".domain-lookup-subdomain-loader").hide():void jQuery.each(e.result,function(e,n){n.status===!0?window.location="cart.php?a=confproduct&i="+n.num:(jQuery(".domain-lookup-primary-loader").hide(),jQuery("#primaryLookupResult").removeClass("hidden").show().find(".domain-invalid").show())})}).always(function(){hasProductDomainLookupEnded(1,n)})}o.removeClass("hidden")}),jQuery("#btnAlreadyRegistered").click(function(){jQuery("#containerNewUserSignup").slideUp("",function(){jQuery("#containerExistingUserSignin").hide().removeClass("hidden").slideDown("",function(){jQuery("#inputCustType").val("existing"),jQuery("#btnAlreadyRegistered").fadeOut("",function(){jQuery("#btnNewUserSignup").removeClass("hidden").fadeIn()})})}),jQuery("#containerNewUserSecurity").hide(),jQuery("#stateselect").attr("required")&&jQuery("#stateselect").removeAttr("required").addClass("requiredAttributeRemoved")}),jQuery("#btnNewUserSignup").click(function(){jQuery("#containerExistingUserSignin").slideUp("",function(){jQuery("#containerNewUserSignup").hide().removeClass("hidden").slideDown("",function(){jQuery("#inputCustType").val("new"),jQuery("#containerNewUserSecurity").show(),jQuery("#btnNewUserSignup").fadeOut("",function(){jQuery("#btnAlreadyRegistered").removeClass("hidden").fadeIn()})})}),jQuery("#stateselect").hasClass("requiredAttributeRemoved")&&jQuery("#stateselect").attr("required","required").removeClass("requiredAttributeRemoved")}),jQuery(".payment-methods").on("ifChecked",function(e){jQuery(this).hasClass("is-credit-card")?jQuery("#creditCardInputFields").is(":visible")||jQuery("#creditCardInputFields").hide().removeClass("hidden").slideDown():jQuery("#creditCardInputFields").slideUp()}),jQuery("input[name='ccinfo']").on("ifChecked",function(e){"new"==jQuery(this).val()?jQuery("#existingCardInfo").slideUp("",function(){jQuery("#newCardInfo").hide().removeClass("hidden").slideDown()}):jQuery("#newCardInfo").slideUp("",function(){jQuery("#existingCardInfo").hide().removeClass("hidden").slideDown()})}),jQuery("#inputDomainContact").on("change",function(){"addingnew"==this.value?jQuery("#domainRegistrantInputFields").hide().removeClass("hidden").slideDown():jQuery("#domainRegistrantInputFields").slideUp()}),jQuery("#inputNewPassword1").keyup(function(){passwordStrength=getPasswordStrength(jQuery(this).val()),passwordStrength>=75?(textLabel=langPasswordStrong,cssClass="success"):passwordStrength>=30?(textLabel=langPasswordModerate,cssClass="warning"):(textLabel=langPasswordWeak,cssClass="danger"),jQuery("#passwordStrengthTextLabel").html(langPasswordStrength+": "+passwordStrength+"% "+textLabel),jQuery("#passwordStrengthMeterBar").css("width",passwordStrength+"%").attr("aria-valuenow",passwordStrength),jQuery("#passwordStrengthMeterBar").removeClass("progress-bar-success progress-bar-warning progress-bar-danger").addClass("progress-bar-"+cssClass)}),jQuery("#inputDomain").on("shown.bs.tooltip",function(){setTimeout(function(e){e.tooltip("hide")},5e3,jQuery(this))}),jQuery("#frmDomainChecker").submit(function(e){e.preventDefault();var n=jQuery("#frmDomainChecker"),t=jQuery("#inputDomain"),i=jQuery("#domainSuggestions"),a=jQuery("#google-recaptcha"),o=jQuery("#inputCaptcha");if(domainLookupCallCount=0,!t.val())return t.tooltip("show"),void t.focus();if(t.tooltip("hide"),jQuery("#captchaContainer").length)return void validate_captcha(n);a.tooltip("hide"),o.tooltip("hide"),jQuery("#btnCheckAvailability").attr("disabled","disabled").addClass("disabled"),jQuery(".domain-lookup-result").addClass("hidden"),jQuery(".domain-lookup-loader").show(),i.find("li").addClass("hidden").end(),i.find(".clone").remove().end(),jQuery("div.panel-footer.more-suggestions").addClass("hidden").find("a").removeClass("hidden").end().find("span.no-more").addClass("hidden"),jQuery(".btn-add-to-cart").removeAttr("disabled").find("span").hide().end().find("span.to-add").show(),jQuery(".suggested-domains").hide().removeClass("hidden").fadeIn("fast"),jQuery("#DomainSearchResults").is(":visible")||(jQuery(".domain-pricing").hide(),jQuery("#DomainSearchResults").hide().removeClass("hidden").fadeIn());var r=jQuery.post(n.attr("action"),n.serialize()+"&type=domain","json"),d=jQuery.post(n.attr("action"),n.serialize()+"&type=spotlight","json"),s=jQuery.post(n.attr("action"),n.serialize()+"&type=suggestions","json");r.done(function(e){return"object"!=typeof e||0==e.result.length||e.result.error?void jQuery(".domain-lookup-primary-loader").hide():void jQuery.each(e.result,function(e,n){var t=n.pricing,i=jQuery("#primaryLookupResult"),a=i.find(".domain-available"),o=i.find(".domain-price"),r=i.find(".domain-contact-support"),d=i.find(".domain-unavailable"),s=i.find(".domain-invalid");if(jQuery(".domain-lookup-primary-loader").hide(),i.removeClass("hidden").show(),n.isValidDomain)d.hide(),r.hide(),s.hide(),n.isAvailable&&"string"!=typeof t?(n.preferredTLDNotAvailable&&d.show().find("strong").html(n.originalUnavailableDomain),a.show().find("strong").html(n.domainName),o.show().find("span.price").html(t[Object.keys(t)[0]].register).end().find("button").attr("data-domain",n.idnDomainName)):(a.hide(),o.hide(),r.hide(),d.show().find("strong").html(n.domainName),"string"==typeof t&&"ContactUs"==t&&r.show());else{a.hide(),o.hide(),d.hide(),r.hide();var l=s.find("span.domain-length-restrictions");l.hide(),n.minLength>0&&n.maxLength>0&&(l.find(".min-length").html(n.minLength).end().find(".max-length").html(n.maxLength).end(),l.show()),s.show()}})}).always(function(){hasDomainLookupEnded()}),d.done(function(e){return"object"!=typeof e||0==e.result.length||e.result.error?void jQuery(".domain-lookup-spotlight-loader").hide():void jQuery.each(e.result,function(e,n){var t=n.tldNoDots,i=n.pricing,a=jQuery("#spotlight"+t+" .domain-lookup-result");jQuery(".domain-lookup-spotlight-loader").hide(),a.find("button").addClass("hidden").end(),n.isValidDomain?n.isAvailable&&"string"!=typeof i?a.find("button.unavailable").addClass("hidden").end().find("button.invalid").addClass("hidden").end().find("span.available").html(i[Object.keys(i)[0]].register).removeClass("hidden").end().find("button").not("button.unavailable").not("button.invalid").attr("data-domain",n.idnDomainName).removeClass("hidden"):"string"==typeof i?(""==i?a.find("button.unavailable").removeClass("hidden").end():a.find("button.domain-contact-support").removeClass("hidden").end(),a.find("button.invalid").addClass("hidden").end(),a.find("span.available").addClass("hidden").end()):a.find("button.invalid").addClass("hidden").end().find("button.unavailable").removeClass("hidden").end().find("span.available").addClass("hidden").end():a.find("button.invalid.hidden").removeClass("hidden").end().find("span.available").addClass("hidden").end().find("button").not("button.invalid").addClass("hidden"),a.removeClass("hidden")})}).always(function(){hasDomainLookupEnded()}),s.done(function(e){if("object"!=typeof e||0==e.result.length||e.result.error)return void jQuery(".suggested-domains").fadeOut("fast",function(){jQuery(this).addClass("hidden")});jQuery(".suggested-domains").removeClass("hidden");var n=1;jQuery.each(e.result,function(e,t){var a=t.tld,o=t.pricing;i.find("li:first").clone(!0,!0).appendTo(i);var r=i.find("li.domain-suggestion").last();r.addClass("clone").find("span.domain").html(t.sld).end().find("span.extension").html("."+a).end(),"string"==typeof o?(r.find("button.btn-add-to-cart").remove(),""!=o?r.find("button.domain-contact-support").removeClass("hidden").end().find("span.price").hide():r.remove()):r.find("button.btn-add-to-cart").attr("data-domain",t.idnDomainName).end().find("span.price").html(o[Object.keys(o)[0]].register).end(),n<=10&&r.removeClass("hidden"),n++,t.group&&(r.find("span.promo").addClass(t.group).removeClass("hidden").end(),r.find("span.sales-group-"+t.group).removeClass("hidden").end()),furtherSuggestions=i.find("li.domain-suggestion.clone.hidden").length,furtherSuggestions>0&&jQuery("div.more-suggestions").removeClass("hidden")}),jQuery(".domain-lookup-suggestions-loader").hide(),jQuery("#domainSuggestions").removeClass("hidden")}).always(function(){hasDomainLookupEnded()})}),jQuery(".btn-add-to-cart").on("click",function(){if(jQuery(this).hasClass("checkout"))return void(window.location="cart.php?a=confdomains");var e=jQuery(this).attr("data-domain"),n=jQuery('button[data-domain="'+e+'"]'),t=jQuery(this).attr("data-whois"),i=jQuery(this).hasClass("product-domain"),a=jQuery("#btnDomainContinue"),o=jQuery("#resultDomain"),r=jQuery("#resultDomainPricingTerm");n.attr("disabled","disabled");jQuery.post(window.location.pathname,{a:"addToCart",domain:e,token:csrfToken,whois:t},"json").done(function(t){n.find("span.to-add").hide(),"added"==t.result?(n.find("span.added").show().end(),i||n.removeAttr("disabled").addClass("checkout"),o.length&&!o.val()&&(o.val(e),r.val(t.period).attr("name","domainsregperiod["+e+"]"),a.length>0&&a.is(":disabled")&&a.removeAttr("disabled")),jQuery("#cartItemCount").html(t.cartCount)):n.find("span.unavailable").show()})}),jQuery("#frmDomainTransfer").submit(function(e){e.preventDefault();var n=jQuery("#frmDomainTransfer"),t=jQuery("#btnTransferDomain"),i=jQuery("#inputTransferDomain"),a=jQuery("#inputAuthCode"),o=i.val(),r=a.val(),d=!1,s=jQuery("#google-recaptcha"),l=jQuery("#inputCaptcha");return o?(i.tooltip("hide"),jQuery("#captchaContainer").length?void validate_captcha(n):(s.tooltip("hide"),l.tooltip("hide"),t.attr("disabled","disabled").addClass("disabled").find("span").hide().removeClass("hidden").end().find(".loader").show(),void jQuery.post(n.attr("action"),n.serialize(),"json").done(function(e){if("object"!=typeof e)return t.find("span").hide().end().find("#addToCart").show().end().removeAttr("disabled").removeClass("disabled"),!1;var n=e.result;"added"==n?(window.location="cart.php?a=confdomains",d=!0):1==n.isRegistered?1!=n.epp||r||(a.tooltip("show"),a.focus()):jQuery("#transferUnavailable").html(n.unavailable).hide().removeClass("hidden").fadeIn("fast",function(){setTimeout(function(e){e.fadeOut("fast")},3e3,jQuery(this))})}).always(function(){0==d&&t.find("span").hide().end().find("#addToCart").show().end().removeAttr("disabled").removeClass("disabled")}))):(i.tooltip("show"),i.focus(),!1)}),jQuery("#btnEmptyCart").click(function(){jQuery("#modalEmptyCart").modal("show")}),jQuery("#cardType li a").click(function(e){e.preventDefault(),jQuery("#selectedCardType").html(jQuery(this).html()),jQuery("#cctype").val(jQuery("span.type",this).html())}),jQuery(document).on("click",".domain-contact-support",function(e){e.preventDefault();var n=window.open();n.opener=null,n.location="submitticket.php"}),jQuery("#frmConfigureProduct input:visible, #frmConfigureProduct select:visible").first().focus(),jQuery("#frmProductDomain input[type=text]:visible").first().focus(),jQuery("#frmDomainChecker input[type=text]:visible").first().focus(),jQuery("#frmDomainTransfer input[type=text]:visible").first().focus(),jQuery(".tld-filters a").click(function(e){e.preventDefault(),jQuery(this).hasClass("label-success")?jQuery(this).removeClass("label-success"):jQuery(this).addClass("label-success"),jQuery(".tld-row").removeClass("filtered-row"),jQuery(".tld-filters a.label-success").each(function(e){var n=jQuery(this).data("category");jQuery('.tld-row[data-category*="'+n+'"]').addClass("filtered-row")}),jQuery(".filtered-row:even").removeClass("highlighted"),jQuery(".filtered-row:odd").addClass("highlighted"),jQuery('.tld-row:not(".filtered-row")').fadeOut("",function(){0==jQuery(".filtered-row").size()?jQuery(".tld-row.no-tlds").show():jQuery(".tld-row.no-tlds").hide()}),jQuery(".tld-row.filtered-row").fadeIn()}),jQuery(".filtered-row:even").removeClass("highlighted"),jQuery(".filtered-row:odd").addClass("highlighted"),jQuery(".promo-cart .btn-add").click(function(e){
var n=jQuery(this);n.attr("disabled","disabled").find("span.loading").hide().removeClass("hidden").show().end(),jQuery.post(window.location.pathname,{a:"addUpSell",product_key:n.data("product-key"),token:csrfToken},function(e){return console.log(e.modal),"undefined"!=typeof e.modal?void openModal(e.modal,"",e.modalTitle,"","",e.modalSubmit,e.modelSubmitId):void window.location.reload(!0)},"json")}),jQuery(document).on("click","#btnAddUpSell",function(e){needRefresh=!0})});